<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/swim-emoji.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="tiim.ch Â» Tim Bachmann"
      href="/blog/rss.xml"
    />
    <link href="https://comments.tiim.ch/wm/webmentions" rel="webmention" />
    <link
      href="https://comments.tiim.ch/indieauth/metadata"
      rel="indieauth-metadata"
    />
    <link
      href="https://comments.tiim.ch/indieauth/authorize"
      rel="authorization_endpoint"
    />
    <link
      href="https://comments.tiim.ch/indieauth/token"
      rel="token_endpoint"
    />
    <link rel="micropub" href="https://comments.tiim.ch/micropub" />
    <link rel="microsub" href="https://aperture.p3k.io/microsub/801" />
    <title>Tim Bachmann</title>
    
		<link href="../_app/immutable/assets/0.C6Eg9DJ-.css" rel="stylesheet">
		<link href="../_app/immutable/assets/MarkdownSite.D9jvKssS.css" rel="stylesheet">
		<link href="../_app/immutable/assets/4.Dn2lDdn2.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.DzMsK6iU.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BAJ0H9dG.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/N6vMP6K8.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CeH7VA1m.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BEFE7IlI.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Bj6fPYMv.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bzak7iHL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/tirM1Ya0.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.0VHl-ngm.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/AumyIhAL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BNYvmXM-.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/dVNlkfcI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/56KfW9JE.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/4.CnFQrugk.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BwmfcpTx.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cf1uxiy_.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C-mP__dA.js"><!--18fneu1--><meta property="og:title" content="First Go Project: A Jam-stack Commenting API"/> <meta property="og:type" content="article"/> <meta property="og:description" content="I built my first project using the Go programming language: A commenting API for the jam-stack. It is simple but easily extensible. And it powers the commenting feature of this website!"/> <!--[--><meta property="article:published_time" content="Tue Jul 12 2022 00:00:00 GMT+0000 (Coordinated Universal Time)"/><!--]--> <!--[--><meta property="article:modified_time" content="Wed Nov 23 2022 21:42:29 GMT+0000 (Coordinated Universal Time)"/><!--]--> <meta property="article:author" content="Tim Bachmann"/> <!--[--><meta property="article:tag" content="go"/><meta property="article:tag" content="indiego"/><meta property="article:tag" content="project"/><meta property="article:tag" content="tiim.ch"/><meta property="article:tag" content="web-api"/><!--]--> <!--[--><meta property="og:image" content="../assets/2022-07-first-go-project-commenting-api.png"/><!--]--><!----><title>First Go Project: A Jam-stack Commenting API - Tim Bachmann</title>
  </head>
  <body>
    <div id="svelte"><!--[--><!--[--><!----><div id="app"><nav class="navbar svelte-se4uza" aria-label="main navigation"><div class="navbar-brand svelte-se4uza"><a class="navbar-item svelte-se4uza" href="/">Tim Bachmann</a></div> <div class="navbar-menu desktop svelte-se4uza"><a href="/" class="navbar-item svelte-se4uza">Home</a> <a href="/projects" class="navbar-item svelte-se4uza">Projects</a> <a href="/blog" class="navbar-item svelte-se4uza">Blog</a> <a href="/pages/uses" class="navbar-item svelte-se4uza">Uses</a> <a class="navbar-item svelte-se4uza" href="/contact">Contact</a> <a class="navbar-item svelte-se4uza" href="/follow">Follow</a></div> <div class="navbar-menu mobile svelte-se4uza"><div><input id="header-toggle" class="header-checkbox svelte-se4uza" type="checkbox"/> <label for="header-toggle" class="toggle svelte-se4uza"><span class="svelte-se4uza"></span> <span class="svelte-se4uza"></span> <span class="svelte-se4uza"></span></label></div> <!--[!--><!--]--></div></nav><!----> <div class="section"><!--[--><!----><div><article class="container h-entry"><!--[--><figure class="svelte-18fneu1"><img class="u-featured svelte-18fneu1" alt="First Go Project: A Jam-stack Commenting API" src="../assets/2022-07-first-go-project-commenting-api.png"/> <!--[!--><!--]--></figure><!--]--> <h1><span class="p-name">First Go Project: A Jam-stack Commenting API</span></h1> <!--[!--><!--]--> <p class="tags"><!--[--><a class="tag p-category" href="/tags/go">go</a><a class="tag p-category" href="/tags/indiego">indiego</a><a class="tag p-category" href="/tags/project">project</a><a class="tag p-category" href="/tags/tiim.ch">tiim.ch</a><a class="tag p-category" href="/tags/web-api">web-api</a><!--]--></p> <div class="by svelte-18fneu1"><address class="author svelte-18fneu1">by <a class="u-author" href="/" rel="author">Tim Bachmann</a></address> <!--[--><span>published on <time pubdate="" datetime="2022-07-12T00:00:00.000Z" class="date dt-published">Tuesday, July 12, 2022</time></span><!--]--> <!--[-->last updated on <time pubdate="" datetime="2022-11-23T21:42:29.000Z" class="date dt-updated">Wednesday, November 23, 2022</time><!--]--><!----></div> <!--[!--><!--]--> <div class="e-content content svelte-18fneu1"><!----><p>I recently have been looking around for a simple commenting system to integrate into my website. Since my website is a pre-rendered static Html site hosted on <a href="https://pages.github.com" rel="nofollow noopener noreferrer">Github Pages</a>, there is no way for it to directly store comments because it does not have a database. The only option for dynamic content to be stored is with an external service.</p>
<p>I kept my eyes open for a service that I liked, but I did not want to just integrate any old service into my website, I did have some requirements:</p>
<ul>
<li>The service should not cost anything. I would rather host something myself than sign up for another subscription (because I'm already paying for a VPS anyway).</li>
<li>I want to control how the comments on my website are displayed. I quite like my website design and I don't want a generic comment box below my posts.</li>
<li>The service should respect the privacy of the people using my website.</li>
<li>There should be an option to comment without setting up an account with the service.</li>
</ul>
<p>While looking around for how other people integrated comments into their static websites, I found a nice <a href="https://averagelinuxuser.com/static-website-commenting/" rel="nofollow noopener noreferrer">blog post from Average Linux User</a> which compares a few popular commenting systems.
Unfortunately, most systems either are not very privacy-friendly, cost money or store the comments as comments on Github issues..?
After looking through the options I decided to use this opportunity to write my own commenting system and dabble with the Go programming language.</p>
<h2>Writing a commenting API in Go</h2>
<p>First thing first, if you want to take a look at the code, check out the <a href="https://github.com/Tiim/IndieGo" rel="nofollow noopener noreferrer">Github repo</a>.</p>
<p>I decided to write the commenting system in Go because I have been looking for an excuse to practice Go for a while, and this seemed like the perfect fit. It is a small CRUD app, consisting of a storage component, an API component and a small event component in the middle to easily compose the functionality I want.</p>
<p>Currently, it supports the following functionality:</p>
<ul>
<li>Listing all comments (optionally since a specified timestamp)</li>
<li>Listing all comments for a specified page (optionally since a specified timestamp)</li>
<li>Posting comments through the API</li>
<li>A simple admin dashboard that lists all comments and allows the admin to delete them</li>
<li>Email notifications when someone comments</li>
<li>Email notifications when someone replies to your comment</li>
<li>SQLite storage for comments</li>
</ul>
<p>The code is built in a way to make it easy to customise the features.
For example to disable features like the email reply notifications you can just <a href="https://github.com/Tiim/IndieGo/blob/master/main.go#L52" rel="nofollow noopener noreferrer">comment out the line in the main.go</a> file that registers that hook.</p>
<p>To write custom hooks that get executed when a new comment gets submitted or one gets deleted, just implement the <a href="https://github.com/Tiim/IndieGo/blob/master/event/handler.go" rel="nofollow noopener noreferrer">Handler</a> interface and register it in the main method.</p>
<p>You can also easily add other storage options like databases or file storage by implementing the <a href="https://github.com/Tiim/IndieGo/blob/master/model/store.go" rel="nofollow noopener noreferrer">Store and SubscribtionStore</a> interfaces.</p>
<h2>Can it be used in production? ðŸš—ðŸ’¨</h2>
<p>I currently use it on this website! Go test it out (I might delete the comments if they are rude though ðŸ¤”).</p>
<p>In all seriousness, I would not use it for a website where the comments are critical. But for a personal blog or similar, I don't see why not.</p>
<p>If you want to host your own version, there is a Dockerfile available. If you decide to integrate this into your website, please comment below, ping me <a href="https://twitter.com/TiimB" rel="nofollow noopener noreferrer">@TiimB</a> or shoot me an email <a href="mailto:hey@tiim.ch">hey@tiim.ch</a>, I would love to check it out.</p><!----></div> <!--[!--><!--]--> <!--[--><div class="outro svelte-1teoznn" slot="outro"><em>You found an error in this post? Open a <a href="https://github.com/Tiim/Tiim.github.io/tree/source/content/blog/2022-07-12-first-go-project-commenting-api.md">pull request</a>.</em></div><!--]--> <div class="author-info p-author h-card svelte-2gqjly"><div class="author-avatar svelte-2gqjly"><img src="https://avatars.githubusercontent.com/u/1063187" alt="Photo of Tim Bachmann" class="u-photo svelte-2gqjly"/></div> <div><p class="author-bio p-note"><!----><p>Hi, my name is <span class="p-name">Tim Bachmann</span>!
I'm a <span class="p-role">software engineer</span> at <span class="p-org">Coop Genossenschaft</span>, swimmer and swim coach.</p>
<p>I am passionate about all things web development, swimming, personal knowledge management and much more.
If you liked this or any of my posts, feel free to <a href="https://tiim.ch/follow" rel="nofollow noopener noreferrer">follow me</a>.</p><!----></p> <div class="author-detail svelte-2gqjly"><span class="hidden p-name svelte-2gqjly">Tim Bachmann</span> <span class="hidden p-gender-identity svelte-2gqjly">male</span> <span class="hidden p-locality svelte-2gqjly">Basel</span> <span class="hidden p-country-name svelte-2gqjly">Switzerland</span> <span class="hidden p-org svelte-2gqjly">Coop Genossenschaft</span> <span class="hidden p-role svelte-2gqjly">software engineer</span> <a href="mailto:hey@tiim.ch" class="p-email">hey@tiim.ch</a> <a class="p-url" href="https://tiim.ch/">https://tiim.ch/</a></div></div></div><!----> <div class="post-details"><!--[--><p class="hidden p-summary svelte-18fneu1">I built my first project using the Go programming language: A commenting API for the jam-stack. It is simple but easily extensible. And it powers the commenting feature of this website!</p><!--]--> <a class="hidden p-url p-uid svelte-18fneu1" href="/blog/2022-07-12-first-go-project-commenting-api">/blog/2022-07-12-first-go-project-commenting-api</a></div></article></div><!----><!--]--></div> <div><footer class="svelte-cfdhmy"><div><!----><p>Built with SvelteKit and hosted on GitHub Pages.</p>
<p>View this website on <a href="https://github.com/Tiim/Tiim.github.io" rel="nofollow noopener noreferrer">GitHub</a>!</p>
<h2>Other pages</h2>
<ul>
<li><a href="https://tiim.ch/pages/links" rel="nofollow noopener noreferrer">Links and Blogroll</a></li>
</ul><!----></div> <p class="copyright svelte-cfdhmy">Â©Tim Bachmann 2026</p></footer><!----></div></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1a0qsqe = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.DzMsK6iU.js"),
						import("../_app/immutable/entry/app.Bj6fPYMv.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data: [{type:"data",data:{footer:{html:"\u003Cp>Built with SvelteKit and hosted on GitHub Pages.\u003C/p>\n\u003Cp>View this website on \u003Ca href=\"https://github.com/Tiim/Tiim.github.io\" rel=\"nofollow noopener noreferrer\">GitHub\u003C/a>!\u003C/p>\n\u003Ch2>Other pages\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://tiim.ch/pages/links\" rel=\"nofollow noopener noreferrer\">Links and Blogroll\u003C/a>\u003C/li>\n\u003C/ul>",slug:"footer",uuid:"e556fd14-3acd-4a7b-9b31-929fdd6d2b7a",created:new Date(1690834579000),date:new Date(1690834579000),published:true,abstract:"\u003Cp>Built with SvelteKit and hosted on GitHub Pages.\u003C/p>",tags:[],links:void 0,type:"article",cover_image:void 0,description:"",folder:"metadata"}},uses:{}},{type:"data",data:{post:{html:"\u003Cp>I recently have been looking around for a simple commenting system to integrate into my website. Since my website is a pre-rendered static Html site hosted on \u003Ca href=\"https://pages.github.com\" rel=\"nofollow noopener noreferrer\">Github Pages\u003C/a>, there is no way for it to directly store comments because it does not have a database. The only option for dynamic content to be stored is with an external service.\u003C/p>\n\u003Cp>I kept my eyes open for a service that I liked, but I did not want to just integrate any old service into my website, I did have some requirements:\u003C/p>\n\u003Cul>\n\u003Cli>The service should not cost anything. I would rather host something myself than sign up for another subscription (because I'm already paying for a VPS anyway).\u003C/li>\n\u003Cli>I want to control how the comments on my website are displayed. I quite like my website design and I don't want a generic comment box below my posts.\u003C/li>\n\u003Cli>The service should respect the privacy of the people using my website.\u003C/li>\n\u003Cli>There should be an option to comment without setting up an account with the service.\u003C/li>\n\u003C/ul>\n\u003Cp>While looking around for how other people integrated comments into their static websites, I found a nice \u003Ca href=\"https://averagelinuxuser.com/static-website-commenting/\" rel=\"nofollow noopener noreferrer\">blog post from Average Linux User\u003C/a> which compares a few popular commenting systems.\nUnfortunately, most systems either are not very privacy-friendly, cost money or store the comments as comments on Github issues..?\nAfter looking through the options I decided to use this opportunity to write my own commenting system and dabble with the Go programming language.\u003C/p>\n\u003Ch2>Writing a commenting API in Go\u003C/h2>\n\u003Cp>First thing first, if you want to take a look at the code, check out the \u003Ca href=\"https://github.com/Tiim/IndieGo\" rel=\"nofollow noopener noreferrer\">Github repo\u003C/a>.\u003C/p>\n\u003Cp>I decided to write the commenting system in Go because I have been looking for an excuse to practice Go for a while, and this seemed like the perfect fit. It is a small CRUD app, consisting of a storage component, an API component and a small event component in the middle to easily compose the functionality I want.\u003C/p>\n\u003Cp>Currently, it supports the following functionality:\u003C/p>\n\u003Cul>\n\u003Cli>Listing all comments (optionally since a specified timestamp)\u003C/li>\n\u003Cli>Listing all comments for a specified page (optionally since a specified timestamp)\u003C/li>\n\u003Cli>Posting comments through the API\u003C/li>\n\u003Cli>A simple admin dashboard that lists all comments and allows the admin to delete them\u003C/li>\n\u003Cli>Email notifications when someone comments\u003C/li>\n\u003Cli>Email notifications when someone replies to your comment\u003C/li>\n\u003Cli>SQLite storage for comments\u003C/li>\n\u003C/ul>\n\u003Cp>The code is built in a way to make it easy to customise the features.\nFor example to disable features like the email reply notifications you can just \u003Ca href=\"https://github.com/Tiim/IndieGo/blob/master/main.go#L52\" rel=\"nofollow noopener noreferrer\">comment out the line in the main.go\u003C/a> file that registers that hook.\u003C/p>\n\u003Cp>To write custom hooks that get executed when a new comment gets submitted or one gets deleted, just implement the \u003Ca href=\"https://github.com/Tiim/IndieGo/blob/master/event/handler.go\" rel=\"nofollow noopener noreferrer\">Handler\u003C/a> interface and register it in the main method.\u003C/p>\n\u003Cp>You can also easily add other storage options like databases or file storage by implementing the \u003Ca href=\"https://github.com/Tiim/IndieGo/blob/master/model/store.go\" rel=\"nofollow noopener noreferrer\">Store and SubscribtionStore\u003C/a> interfaces.\u003C/p>\n\u003Ch2>Can it be used in production? ðŸš—ðŸ’¨\u003C/h2>\n\u003Cp>I currently use it on this website! Go test it out (I might delete the comments if they are rude though ðŸ¤”).\u003C/p>\n\u003Cp>In all seriousness, I would not use it for a website where the comments are critical. But for a personal blog or similar, I don't see why not.\u003C/p>\n\u003Cp>If you want to host your own version, there is a Dockerfile available. If you decide to integrate this into your website, please comment below, ping me \u003Ca href=\"https://twitter.com/TiimB\" rel=\"nofollow noopener noreferrer\">@TiimB\u003C/a> or shoot me an email \u003Ca href=\"mailto:hey@tiim.ch\">hey@tiim.ch\u003C/a>, I would love to check it out.\u003C/p>",slug:"blog/2022-07-12-first-go-project-commenting-api",uuid:"bff14052-4f3f-4dcb-bcee-155ae1c6b09e",date:new Date(1657584000000),created:new Date(1657297477766),aliases:[null],title:"First Go Project: A Jam-stack Commenting API",published:true,modified:new Date(1669239749000),description:"I built my first project using the Go programming language: A commenting API for the jam-stack. It is simple but easily extensible. And it powers the commenting feature of this website!",cover_image:"/assets/2022-07-first-go-project-commenting-api.png",content_tags:["go","web-api","project","tiim.ch","indiego"],abstract:"\u003Cp>I recently have been looking around for a simple commenting system to integrate into my website. Since my website is a pre-rendered static Html site hosted on \u003Ca href=\"https://pages.github.com\">Github Pages\u003C/a>, there is no way for it to directly store comments because it does not have a database. The only option for dynamic content to be stored is with an external service.\u003C/p>",tags:["go","indiego","project","tiim.ch","web-api"],links:void 0,type:"article",folder:"blog"},about:{html:"\u003Cp>Hi, my name is \u003Cspan class=\"p-name\">Tim Bachmann\u003C/span>!\nI'm a \u003Cspan class=\"p-role\">software engineer\u003C/span> at \u003Cspan class=\"p-org\">Coop Genossenschaft\u003C/span>, swimmer and swim coach.\u003C/p>\n\u003Cp>I am passionate about all things web development, swimming, personal knowledge management and much more.\nIf you liked this or any of my posts, feel free to \u003Ca href=\"https://tiim.ch/follow\" rel=\"nofollow noopener noreferrer\">follow me\u003C/a>.\u003C/p>",slug:"about",uuid:"d8e56802-2847-4053-b213-9b004f1b965c",date:new Date(1665792000000),created:new Date(1665863229652),published:true,abstract:"\u003Cp>Hi, my name is {{name}}!\nI'm a {{role}} at {{org}}, swimmer and swim coach.\u003C/p>",tags:[],links:void 0,type:"article",cover_image:void 0,description:"",folder:"metadata"}},uses:{params:["slug"]}}],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
