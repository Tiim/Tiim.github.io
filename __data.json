{"type":"data","nodes":[{"type":"data","data":[{"footer":1},{"html":2,"slug":3,"uuid":4,"created":5,"date":6,"published":7,"abstract":8,"tags":9,"links":-1,"type":10,"cover_image":-1,"description":11,"folder":12},"\u003Cp>Built with SvelteKit and hosted on GitHub Pages.\u003C/p>\n\u003Cp>View this website on \u003Ca href=\"https://github.com/Tiim/Tiim.github.io\" rel=\"nofollow noopener noreferrer\">GitHub\u003C/a>!\u003C/p>\n\u003Ch2>Other pages\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://tiim.ch/pages/links\" rel=\"nofollow noopener noreferrer\">Links and Blogroll\u003C/a>\u003C/li>\n\u003C/ul>","footer","e556fd14-3acd-4a7b-9b31-929fdd6d2b7a",["Date","2023-07-31T20:16:19.000Z"],["Date","2023-07-31T20:16:19.000Z"],true,"\u003Cp>Built with SvelteKit and hosted on GitHub Pages.\u003C/p>",[],"article","","metadata"],"uses":{}},{"type":"data","data":[{"indexMeta":1,"mf2":13,"recent":27},{"html":2,"slug":3,"uuid":4,"date":5,"created":6,"published":7,"abstract":8,"tags":9,"links":-1,"type":10,"cover_image":-1,"description":11,"folder":12},"\u003Ch1>Hey, I'm \u003Cspan class=\"p-given-name\">Tim\u003C/span> ğŸ˜Š\u003C/h1>\n\u003Cp>\u003Cstrong>I'm a \u003Cspan class=\"p-role\">software engineer\u003C/span> at the \u003Cspan class=\"p-org\">Coop Genossenschaft\u003C/span>, swim coach and swimmer in \u003Cspan class=\"p-country-name\">Switzerland\u003C/span>.\u003C/strong>\u003C/p>\n\u003Cp>ğŸŠâ€â™‚ï¸ğŸ’»ğŸ‹ï¸â€â™‚ï¸\u003C/p>","index","43aca391-125a-4fd3-a238-8916f41920d2",["Date","2022-11-03T00:00:00.000Z"],["Date","2022-11-03T17:06:03.000Z"],true,"\u003Cp>\u003Cstrong>I'm a {{role}} at the {{org}}, swim coach and swimmer in {{country_name}}.\u003C/strong>\u003C/p>",[],"article","","metadata",{"name":14,"given_name":15,"family_name":16,"nickname":17,"email":18,"photo":19,"url":20,"locality":21,"country_name":22,"org":23,"job_title":24,"role":25,"gender_identity":26},"Tim Bachmann","Tim","Bachmann","Tiim","hey@tiim.ch","https://avatars.githubusercontent.com/u/1063187","https://tiim.ch/","Basel","Switzerland","Coop Genossenschaft","Software Engineer","software engineer","male",[28,47,63,82,98,111],{"html":29,"slug":30,"uuid":31,"title":32,"section":33,"date":34,"published":7,"content_tags":35,"links":39,"abstract":42,"tags":43,"type":10,"cover_image":-1,"description":11,"folder":46},"\u003Cp>A client-side web application for visualizing daily work shifts with special handling for overnight shifts. Built with vanilla JavaScript, HTML, and CSS - no frameworks or build process required.\u003C/p>\n\u003Ch2>Features\u003C/h2>\n\u003Cul>\n\u003Cli>ğŸ“… View shifts by date with easy navigation\u003C/li>\n\u003Cli>ğŸŒ™ Automatic overnight shift detection and display\u003C/li>\n\u003Cli>ğŸ’¾ Local storage persistence (no backend required)\u003C/li>\n\u003Cli>ğŸ“± Mobile-responsive design\u003C/li>\n\u003Cli>ğŸ¨ Color-coded shifts by shift type\u003C/li>\n\u003Cli>âœ… JSON validation with detailed error messages\u003C/li>\n\u003Cli>ğŸ”„ Merge capability to update existing shifts\u003C/li>\n\u003C/ul>\n\u003Cp>The application is 100% client-side with no network calls, works completely offline once loaded, and stores all data in the browser's localStorage. It uses ES6 modules with native browser support, making it a lightweight solution for managing and visualizing work schedules.\u003C/p>","projects/shift-visualizer","eeda5ca1-e4de-4539-bda8-5c5dca3a7bf3","Shift Visualizer","Projects",["Date","2026-01-06T12:00:00.000Z"],[36,37,38],"javascript","web app","vanilla js",[40,41],"\u003Cp>\u003Ca href=\"https://tiim.ch/shift-visualizer/\" rel=\"nofollow noopener noreferrer\">Shift Visualizer\u003C/a>\u003C/p>","\u003Cp>\u003Ca href=\"https://github.com/Tiim/shift-visualizer\" rel=\"nofollow noopener noreferrer\">Github Repo\u003C/a>\u003C/p>","\u003Cp>A client-side web application for visualizing daily work shifts with special handling for overnight shifts. Built with vanilla JavaScript, HTML, and CSS - no frameworks or build process required.\u003C/p>",[36,44,45],"vanilla-js","web-app","projects",{"html":48,"slug":49,"uuid":50,"title":51,"section":33,"date":52,"published":7,"content_tags":53,"links":57,"abstract":60,"tags":61,"type":10,"cover_image":-1,"description":11,"folder":46},"\u003Cp>A small client side javascript application to manage measured times and splits of swimmers. Supports managing swimmers, sharing database via export and import, displaying PBs and data import from LENEX file format.\u003C/p>\n\u003Cp>Sharing of data is possible with the import and export functionality.\u003C/p>\n\u003Cp>The whole app is built using \u003Cem>Claude Code\u003C/em> in a few evenings. For me, it was the perfect learning project on how to best work with an AI assistant.\u003C/p>","projects/swim-times-manager","7cca462f-3612-4215-a0da-0a05a9277940","Swim Times Manager",["Date","2025-12-01T20:53:34.000Z"],[54,55,36,56],"vibe coding","swim","lenex",[58,59],"\u003Cp>\u003Ca href=\"https://tiim.ch/swim-times-manager/\" rel=\"nofollow noopener noreferrer\">Swim Times Manager\u003C/a>\u003C/p>","\u003Cp>\u003Ca href=\"https://github.com/Tiim/swim-times-manager\" rel=\"nofollow noopener noreferrer\">Github Repo\u003C/a>\u003C/p>","\u003Cp>A small client side javascript application to manage measured times and splits of swimmers. Supports managing swimmers, sharing database via export and import, displaying PBs and data import from LENEX file format.\u003C/p>",[36,56,55,62],"vibe-coding",{"html":64,"slug":65,"uuid":66,"date":67,"created":68,"aliases":69,"title":70,"published":7,"modified":69,"description":71,"cover_image":72,"cover_image_txt":73,"content_tags":74,"abstract":79,"tags":80,"links":-1,"type":10,"folder":81},"\u003Cblockquote class=\"callout callout-note\">\n\u003Cspan class=\"callout-title\">\u003Cspan class=\"callout-icon\">\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\u003Cpath d=\"M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h226.7c17 0 33.3-6.7 45.3-18.7l93.3-93.3c12-12 18.7-28.3 18.7-45.3V96c0-35.3-28.7-64-64-64zm0 64h320v224h-64c-17.7 0-32 14.3-32 32v64H64z\">\u003C/path>\u003C/svg>\u003C/span>Note\u003C/span>\u003Cp>This post is meant as a reference for myself. I only published it in case someone else might find it interesting.\nI did not spend much time on this post.\u003C/p>\n\u003C/blockquote>\n\u003Cp>I do host some services on a few rented VPS servers and on my \"home lab\", which is just an old desktop that is running in the basement.\nWhen I got into self-hosting, I decided I would host everything exclusively in docker, which has served me pretty well over the last few years. In the last while I\nhave learned a lot about Kubernetes, and am strongly considering switching my \"simple\" hosting setup for a more complex Kubernetes cluster. So before I do that I want\nto write down what my current setup looks like.\u003C/p>\n\u003Ch2>Setup\u003C/h2>\n\u003Cp>\u003Cimg src=\"https://media.tiim.ch/0887e318-9359-4753-abaf-49ae7c26dfcd.webp\" alt=\"\">\u003C/p>\n\u003Cp>As mentioned, everything is hosted in docker containers. Generally, I try to keep everything in docker-compose, since this allows me to specify the settings of the container once, and easily modify it later.\nTo have multiple services available on port 80 and 443, I use the Traeffik (Software) reverse proxy. I use Traefik without a config file, meaning it pulls the routes and rules directly from the labels of the\nrunning containers on the VPS. This makes it easy to launch a new service and have its reverse proxy config directly in the docker-compose file.\u003C/p>\n\u003Cp>Since many services use a database, and Postgres seems to be supported by many open-source projects, I decided to have a central Postgres instance running in a docker container. This allows me to\nback it up with a simple cron job in a single place. If a service does not support Postgres, I specify its database directly in the docker-compose file.\u003C/p>\n\u003Cp>Almost all services use disk access for either config, local files, or similar. I do have a docker folder that is the root of all locally stored files.\u003C/p>\n\u003Ch2>OS Setup\u003C/h2>\n\u003Cp>When I first started, I configured everything by hand, and documented how, why, and what I did. However I was not happy with this, I could not test it out and it was prone to errors.\nTherefore, I decided to use Ansible to set up the server and install all dependencies.\nThis worked well, so well that I decided that Ansible was good enough to use to operate the entire pipeline, even to automate the deployment of the services.\u003C/p>\n\u003Ch2>Deployment\u003C/h2>\n\u003Cp>I do have an ansible role per service, with its configuration (mostly) as ansible YAML files, and the docker-compose files and other config files as ansible templates. This worked great, with a single ansible-playbook command I can\nmake sure everything is running and has the right config.\nFor most services, I even built logic to make sure that when the docker-compose file or a config file changes, the container is restarted.\u003C/p>\n\u003Ch2>The good parts\u003C/h2>\n\u003Cp>I am quite happy with this system in general. Everything runs stable, backups are easy and automated, and deployments for services that are already configured are a breeze.\nI can keep the whole \"description\" of what is running in a single git repo, and make changes by editing config files.\nThis is a huge step up from manually deploying and keeping track of what docker commands to use for what service.\u003C/p>\n\u003Ch2>The not so good parts\u003C/h2>\n\u003Cp>Recently I noticed some pain points.\u003C/p>\n\u003Col>\n\u003Cli>If I want to deploy a service twice for two domain names, I have to create a copy of the role. This unfortunately leads to duplicated \"code\" which can (and does) lead to configuration drift.\u003C/li>\n\u003Cli>I have to code things myself that already exist. For example, restarting a container when a config value changes. For most services this is implemented, but not everywhere, and also not for all possible things that can be changed. This is not what I want to be concentrating on if I am writing the config to deploy a service.\u003C/li>\n\u003C/ol>\n\u003Cp>In general, I seem to have built a worse subset of Kubernetes myself, just without the robustness that makes Kubernetes so interesting.\u003C/p>\n\u003Ch2>My plan for the future\u003C/h2>\n\u003Cp>I am planning to replace docker with Kubernetes, specifically K3s (Software), a very lightweight and mostly \"batteries included\" Kubernetes distribution.\nAnsible will stay, but only as a tool to set up and configure the OS, install dependencies, and install and run K3S. Deployment of services I either want to do directly using the kubectl command line tool, or more likely using\nArgoCD, a project that pulls Kubernetes manifests from a Git repository and automatically deploys it.\u003C/p>\n\u003Cp>For the configuration, I will take a look at Helm (Software).\u003C/p>","blog/2023-12-03-my-selfhosting-setup","3af67a63-5f3a-422c-8aee-5e3daa8921f9",["Date","2023-12-04T08:00:00.000Z"],["Date","2023-12-03T21:08:16.000Z"],null,"My Selfhosting Setup","A short overview on how I self-host.","https://media.tiim.ch/4a0a43eb-cf95-4273-b6a6-e085c9123985.webp","Model: realvisxlV20_v20Bakedvae; beach sunset, palms, calm ocean, fine sand, cinematic shot, photorealistic ## (worst quality)",[75,76,77,78],"ansible","docker","traefik","server","\u003Cp>[!NOTE]\nThis post is meant as a reference for myself. I only published it in case someone else might find it interesting.\nI did not spend much time on this post.\u003C/p>",[75,76,78,77],"blog",{"html":83,"slug":84,"uuid":85,"date":86,"created":87,"aliases":69,"title":88,"published":7,"modified":69,"description":89,"cover_image":90,"cover_image_txt":91,"content_tags":92,"abstract":96,"tags":97,"links":-1,"type":10,"folder":81},"\u003Cp>I recently had to find a way to delete a folder using Ansible that was being created by Docker. The folder had a path like \u003Ccode>~/docker/myservice\u003C/code>. Since docker had created it as part of a volume, the folder did not belong to the current user. So deleting the folder using normal permissions failed.\u003C/p>\n\u003Cp>Deleting with elevated permission on the command line is easy: The command \u003Ccode>sudo rm -rf ~/docker/myservice\u003C/code> performs the \u003Ccode>rm\u003C/code> operation as the root user. In bash, this will delete the \u003Ccode>docker/myservice\u003C/code> folder in the user's home directory, but when doing the equivalent in Ansible, this won't work!\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-yaml\"># This does not work!\n- name: Delete the folder using root permissions\n  become: true\n  ansible.builtin.file:\n    path: \"~/docker/myservice\"\n    state: \"absent\"\n\u003C/code>\u003C/pre>\n\u003Cp>This code will try to delete the file \u003Ccode>/user/root/docker/myservice\u003C/code>, which is not what we wanted.\u003C/p>\n\u003Cp>The bash version works because the shell first resolves the tilde in the argument to the current users' directory before calling the sudo command. In Ansible, we first switch to the root user and only then the tilde is resolved: this time to the home directory of the root user.\u003C/p>\n\u003Cp>To circumvent this, we can manually resolve the path to an absolute path. Unfortunately, I have not found a straightforward way to do this in Ansible, however the bash command \u003Ccode>readlink -f &#x3C;path>\u003C/code> does exactly this. To use it in Ansible, we can use the following configuration:\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-yaml\">- name: Get absolute folder path\n  ansible.builtin.command:\n    cmd: \"readlink -f ~/docker/myservice\"\n  register: folder_abs\n  changed_when: False\n\n- name: Debug\n  debug:\n    msg: \"{{folder_abs.stdout}}\" # prints /user/tim/docker/myservice\n\n- name: Delete the folder using root permissions\n  become: true\n  ansible.builtin.file:\n    path: \"{{folder_abs.stdout}}\"\n    state: \"absent\"\n\u003C/code>\u003C/pre>\n\u003Cp>With this Ansible script, we manually resolve the absolute path and use it to delete the folder using root permissions. If you know of an easier way to resolve to an absolute path, please let me know!\u003C/p>","blog/2023-09-20-ansible-absolute-path","ad58acaf-56b0-4bcf-9b72-d6c054fc48d4",["Date","2023-09-20T21:39:13.000Z"],["Date","2023-09-20T20:22:35.634Z"],"Getting the Absolute Path of a Remote Directory in Ansible","There is no builtin way to convert a relative path to an absolute path in ansible. However we can use the readlink command for this.","https://media.tiim.ch/3c1246e4-3201-4df6-af87-6aa4ab98800e.webp","(stable doodle) server room, neon, cables",[93,75,94,95],"dev","linux","bash","\u003Cp>I recently had to find a way to delete a folder using Ansible that was being created by Docker. The folder had a path like \u003Ccode>~/docker/myservice\u003C/code>. Since docker had created it as part of a volume, the folder did not belong to the current user. So deleting the folder using normal permissions failed.\u003C/p>",[75,95,93,94],{"html":99,"slug":100,"uuid":101,"title":102,"date":103,"modified":69,"section":33,"published":7,"content_tags":104,"links":107,"abstract":109,"tags":110,"type":10,"cover_image":-1,"description":11,"folder":46},"\u003Cp>I created pomo as a way to keep me focused for working on my masters thesis, and at the same time\nallowed me to learn the rust programming language.\u003C/p>\n\u003Cp>Pomo is a simple pomodoro timer. It allows you to either specify the number of repetitions (pomodori), the duration of the pomodori and the duration of the breaks, or\nyou can stecify an end time, and let pomo calculate the durations and repetitions.\u003C/p>\n\u003Cp>Pomo runs as a cli tool and stores the current state in a json file. All pomo executions excep \u003Ccode>pomo watch\u003C/code> just\nmodify this json file and terminate. The watch command displays the current pomodoro timer, optionally writes the timer to a text file,\nand watches for changes of the json file.\u003C/p>","projects/pomo","bfa1a7fa-b8a3-469f-b8e8-727ab705cb93","Pomo ğŸ…",["Date","2023-08-03T11:03:00.000Z"],[105,106,93],"rust","cli",[108],"\u003Cp>\u003Ca href=\"https://github.com/Tiim/pomo\" rel=\"nofollow noopener noreferrer\">pomo Github\u003C/a>\u003C/p>","\u003Cp>I created pomo as a way to keep me focused for working on my masters thesis, and at the same time\nallowed me to learn the rust programming language.\u003C/p>",[106,93,105],{"html":112,"slug":113,"uuid":114,"title":115,"date":116,"modified":69,"section":33,"published":7,"content_tags":117,"links":123,"abstract":126,"tags":127,"type":10,"cover_image":-1,"description":11,"folder":46},"\u003Cp>A seemingly simple android widget that renders a markdown file from your phone as a widget on the home screen.\u003C/p>\n\u003Cp>Android widgets are handled by the operating system and only support a limited set of features for rendering.\nTo display markdown, the app displays a screenshot of a temporary web view, that displays the rendered markdown.\u003C/p>","projects/markdown-widget","c6a11779-cf98-4983-8744-9b1effae8d7a","Android Markdown Widget",["Date","2023-08-02T08:59:00.000Z"],[118,119,120,121,122,93],"android","java","kotlin","markdown","widget",[124,125],"\u003Cp>\u003Ca href=\"https://github.com/Tiim/Android-Markdown-Widget\" rel=\"nofollow noopener noreferrer\">Android Markdown Widget Github\u003C/a>\u003C/p>","\u003Cp>\u003Ca href=\"https://f-droid.org/packages/ch.tiim.markdown_widget/\" rel=\"nofollow noopener noreferrer\">Download on F-Droid\u003C/a>\u003C/p>","\u003Cp>A seemingly simple android widget that renders a markdown file from your phone as a widget on the home screen.\u003C/p>",[118,93,119,120,121,122]],"uses":{}}]}
